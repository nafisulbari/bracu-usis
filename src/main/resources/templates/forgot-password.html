<!DOCTYPE HTML>

<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <title>Thymeleaf hello world</title>


</head>


<body>


<form action="#" th:action="@{/request-password}" th:object="${passwordRequest}" method="post">

    <label for="email">Email</label><br>
    <input type="text" th:field="${passwordRequest.email}" id="email" placeholder="Email">
    <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></span>

    <br>
    <p th:if="${messageEmailDoesNotExists}" class="error">Invalid Email</p>
    <p th:if="${messagePasswordPattern}" class="error">Password must contain 1 uppercase letter, 1 lowercase letter and 1 number</p>


    <label for="password">Password</label><br>
    <input type="password" th:field="${passwordRequest.password}" id="password" placeholder="Password"><br>
    <span th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></span>

    <p>Confirm Password:</p><br>
    <input name="password_confirm" required="required" type="password" id="password_confirm" oninput="check(this)"/>
    <script language='javascript' type='text/javascript'>
        function check(input) {
            if (input.value != document.getElementById('password').value) {
                input.setCustomValidity('Password Must Match.');
            } else {
                // input is valid -- reset the error message
                input.setCustomValidity('');
            }
        }
    </script>
    <br>
    <p th:if="${messagePasswordUsed}" class="error">Password previously used</p>
    <br>

    <input type="submit" value="submit">
</form>


</body>


</html>